<svg xmlns="http://www.w3.org/2000/svg" width="980" height="300" viewBox="0 0 980 300">
  <style>
    .box { fill: #f7fafc; stroke: #2d3748; stroke-width: 1.5; rx: 6; }
    .title { font: 600 14px 'Helvetica Neue', Arial, sans-serif; fill: #1a202c; }
    .small { font: 12px 'Helvetica Neue', Arial, sans-serif; fill: #4a5568; }
    .arrow { stroke: #4a5568; stroke-width: 1.5; marker-end: url(#arrow); fill: none; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L10,3 L0,6 Z" fill="#4a5568" />
    </marker>
  </defs>

  <!-- Left: Inputs -->
  <rect x="40" y="40" width="160" height="70" class="box" />
  <text x="120" y="65" text-anchor="middle" class="title">Chest X-ray</text>
  <text x="120" y="85" text-anchor="middle" class="small">Image</text>

  <rect x="40" y="150" width="160" height="70" class="box" />
  <text x="120" y="175" text-anchor="middle" class="title">Knowledge Graph</text>
  <text x="120" y="195" text-anchor="middle" class="small">Diseases–Findings–Relations</text>

  <!-- Visual encoder -->
  <rect x="260" y="40" width="190" height="70" class="box" />
  <text x="355" y="65" text-anchor="middle" class="title">Visual Encoder</text>
  <text x="355" y="85" text-anchor="middle" class="small">e.g., Swin Transformer</text>

  <!-- GCN -->
  <rect x="260" y="150" width="190" height="70" class="box" />
  <text x="355" y="175" text-anchor="middle" class="title">GCN over KG</text>
  <text x="355" y="195" text-anchor="middle" class="small">Disease-related Features</text>

  <!-- Fusion -->
  <rect x="500" y="95" width="180" height="90" class="box" />
  <text x="590" y="120" text-anchor="middle" class="title">Fusion</text>
  <text x="590" y="140" text-anchor="middle" class="small">Modality-wise (MoE)</text>
  <text x="590" y="160" text-anchor="middle" class="small">Soft Router / Gating</text>

  <!-- LLM -->
  <rect x="720" y="95" width="200" height="90" class="box" />
  <text x="820" y="120" text-anchor="middle" class="title">Frozen LLM</text>
  <text x="820" y="140" text-anchor="middle" class="small">Report Generator</text>
  <text x="820" y="160" text-anchor="middle" class="small">Findings · Impression</text>

  <!-- Arrows -->
  <line x1="200" y1="75" x2="260" y2="75" class="arrow" />
  <line x1="200" y1="185" x2="260" y2="185" class="arrow" />
  <line x1="450" y1="75" x2="500" y2="120" class="arrow" />
  <line x1="450" y1="185" x2="500" y2="160" class="arrow" />
  <line x1="680" y1="140" x2="720" y2="140" class="arrow" />

  <!-- Caption -->
  <text x="490" y="280" text-anchor="middle" class="small">KARGEN: KG-enhanced disease features + regional image features → Modality-wise fusion → Frozen LLM for report generation</text>
</svg>


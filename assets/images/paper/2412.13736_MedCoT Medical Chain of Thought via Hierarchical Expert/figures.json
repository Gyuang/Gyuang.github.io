[
  {
    "page": -1,
    "bbox": [
      313.8014221191406,
      320.5511932373047,
      516.6585083007812,
      619.91259765625
    ],
    "caption": "",
    "file_name": [
      "figures/fileoutpart0.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_01.png"
  },
  {
    "page": -1,
    "bbox": [
      313.8014221191406,
      320.5511932373047,
      516.6585083007812,
      619.91259765625
    ],
    "caption": "",
    "file_name": ""
  },
  {
    "page": 2,
    "bbox": [
      74.88252258300781,
      660.1383209228516,
      593.3541564941406,
      771.3675842285156
    ],
    "caption": "Figure 2: The MedCoT pipeline begins with an Initial Specialist receiving a medical question and image to generate a preliminary rationale. This rationale may have flaws (indicated in red), which are then reviewed by theText Follow-up Text Specialist. If the rationale is deemed effective, it is retained; otherwise, it is reconsidered and a new rationale (indicated in green) is generated, along with an image caption. These elements are then integrated into the Diagnostic Specialist. Informed by all contexts, the Diagnostic Specialist, a multimodal language model with a designed sparse MoE structure, delivers the final diagnostic outcome (answer).",
    "file_name": [
      "figures/fileoutpart1.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_03.png"
  },
  {
    "page": 2,
    "bbox": [
      74.88252258300781,
      660.1383209228516,
      593.3541564941406,
      771.3675842285156
    ],
    "caption": "Figure 2: The MedCoT pipeline begins with an Initial Specialist receiving a medical question and image to generate a preliminary rationale. This rationale may have flaws (indicated in red), which are then reviewed by theText Follow-up Text Specialist. If the rationale is deemed effective, it is retained; otherwise, it is reconsidered and a new rationale (indicated in green) is generated, along with an image caption. These elements are then integrated into the Diagnostic Specialist. Informed by all contexts, the Diagnostic Specialist, a multimodal language model with a designed sparse MoE structure, delivers the final diagnostic outcome (answer).",
    "file_name": ""
  },
  {
    "page": 3,
    "bbox": [
      62.82342529296875,
      501.9378967285156,
      349.04522705078125,
      845.1751556396484
    ],
    "caption": "Figure 3: Diagnostic Specialist Pipeline. After passing through a visual encoder, medical images yield visual features. Contextual textual information—including captions, rationales, and options—is processed by a text encoder to obtain textual features. These are then subjected to cross-attention for feature integration, producing combined features. These integrated features, along with textual features, are input into a Sparse MoE structure. Here, multiple specialized experts thoroughly understand the intents of both the image and text. The insights are then fed into a textual decoder, which decodes the information to produce the final answer.",
    "file_name": [
      "figures/fileoutpart2.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_05.png"
  },
  {
    "page": 3,
    "bbox": [
      62.82342529296875,
      501.9378967285156,
      349.04522705078125,
      845.1751556396484
    ],
    "caption": "Figure 3: Diagnostic Specialist Pipeline. After passing through a visual encoder, medical images yield visual features. Contextual textual information—including captions, rationales, and options—is processed by a text encoder to obtain textual features. These are then subjected to cross-attention for feature integration, producing combined features. These integrated features, along with textual features, are input into a Sparse MoE structure. Here, multiple specialized experts thoroughly understand the intents of both the image and text. The insights are then fed into a textual decoder, which decodes the information to produce the final answer.",
    "file_name": ""
  },
  {
    "page": 3,
    "bbox": [
      312.1092224121094,
      617.8406524658203,
      521.1721496582031,
      639.3330535888672
    ],
    "caption": "f is responsible for generating a rational and helpful reasoning rationale R (Initial and Followup Specialists), while g uses this rationale to generate the final answer A (Diagnostic Specialist). The rationale R is derived from the Initial Specialist assessments and self-reflection by the Follow-up Specialist. The final answer A is determined by a Diagnostic Specialist through a loss function L, which measures the discrepancy between the predicted answer A and the true answer A∗ .",
    "file_name": [
      "figures/fileoutpart3.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_07.png"
  },
  {
    "page": 3,
    "bbox": [
      312.1092224121094,
      617.8406524658203,
      521.1721496582031,
      639.3330535888672
    ],
    "caption": "f is responsible for generating a rational and helpful reasoning rationale R (Initial and Followup Specialists), while g uses this rationale to generate the final answer A (Diagnostic Specialist). The rationale R is derived from the Initial Specialist assessments and self-reflection by the Follow-up Specialist. The final answer A is determined by a Diagnostic Specialist through a loss function L, which measures the discrepancy between the predicted answer A and the true answer A∗ .",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      79.71328735351562,
      639.9435424804688,
      292.59228515625,
      686.9432067871094
    ],
    "caption": "where Rfˆ is Follow-up Specialist rationale. This process helps us obtain the textual rationale needed for the diagnostic analysis, as shown in (<>)Figure 2.",
    "file_name": [
      "figures/fileoutpart4.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_09.png"
  },
  {
    "page": 4,
    "bbox": [
      79.71328735351562,
      639.9435424804688,
      292.59228515625,
      686.9432067871094
    ],
    "caption": "where Rfˆ is Follow-up Specialist rationale. This process helps us obtain the textual rationale needed for the diagnostic analysis, as shown in (<>)Figure 2.",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      116.11000061035156,
      95.88517761230469,
      246.62875366210938,
      137.97520446777344
    ],
    "caption": "where Q, K, V correspond to the query, key, and value, derived from FT , FI , FI , respectively.",
    "file_name": [
      "figures/fileoutpart5.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_11.png"
  },
  {
    "page": 4,
    "bbox": [
      116.11000061035156,
      95.88517761230469,
      246.62875366210938,
      137.97520446777344
    ],
    "caption": "where Q, K, V correspond to the query, key, and value, derived from FT , FI , FI , respectively.",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      306.1419982910156,
      573.4522705078125,
      367.9436340332031,
      596.1091461181641
    ],
    "caption": "3.4.2 MoE",
    "file_name": [
      "figures/fileoutpart6.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_13.png"
  },
  {
    "page": 4,
    "bbox": [
      349.98699951171875,
      586.95947265625,
      358.6983184814453,
      596.1091461181641
    ],
    "caption": "3.4.2 MoE",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      349.98699951171875,
      578.7104187011719,
      367.9436340332031,
      587.8600921630859
    ],
    "caption": "3.4.2 MoE",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      306.1419982910156,
      573.4522705078125,
      367.9436340332031,
      596.1091461181641
    ],
    "caption": "3.4.2 MoE",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      323.3450012207031,
      167.99105834960938,
      498.3070068359375,
      224.8802947998047
    ],
    "caption": "EFf = k i=1 Wi · Ei,Ff ,",
    "file_name": [
      "figures/fileoutpart7.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_17.png"
  },
  {
    "page": 4,
    "bbox": [
      323.3450012207031,
      167.99105834960938,
      498.3070068359375,
      224.8802947998047
    ],
    "caption": "EFf = k i=1 Wi · Ei,Ff ,",
    "file_name": ""
  },
  {
    "page": 4,
    "bbox": [
      365.618408203125,
      61.306060791015625,
      467.66200256347656,
      103.39337158203125
    ],
    "caption": "where Wi is the weight of the i-th selected expert, and Vitop k is the score of the i-th selected expert. For each feature Ff , the final result of Feature-level Majority Vote is calculated by weighted averaging the outputs of all selected experts:",
    "file_name": [
      "figures/fileoutpart8.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_19.png"
  },
  {
    "page": 4,
    "bbox": [
      365.618408203125,
      61.306060791015625,
      467.66200256347656,
      103.39337158203125
    ],
    "caption": "where Wi is the weight of the i-th selected expert, and Vitop k is the score of the i-th selected expert. For each feature Ff , the final result of Feature-level Majority Vote is calculated by weighted averaging the outputs of all selected experts:",
    "file_name": ""
  },
  {
    "page": 5,
    "bbox": [
      88.34980773925781,
      271.54554748535156,
      265.9596252441406,
      774.1194305419922
    ],
    "caption": "In MedCoT framework, the encoder and decoder from Flan-T5 ((<>)Khashabi et al., (<>)2020; (<>)Raffel (<>)et al., (<>)2020) are integrated as TextualEncoder(·) and TextualDecoder(·), respectively. Additionally, DETR ((<>)Carion et al., (<>)2020) is employed as VisualEncoder(·). Our Diagnostic Specialist model was trained 100 epochs with a learning rate of 8e − 5 and a batch size of 8. To demonstrate the effects of MedCoT, four benchmark datasets are used for validation in the medical VQA domain: VQARAD ((<>)Lau et al., (<>)2018), SLAKE-EN ((<>)Liu et al., (<>)2021), Med-VQA-2019 ((<>)Abacha et al., (<>)2019), and PathVQA ((<>)He et al., (<>)2020), with detailed statistics provided in Appendix. All experiments were",
    "file_name": [
      "figures/fileoutpart9.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_21.png"
  },
  {
    "page": 5,
    "bbox": [
      88.34980773925781,
      271.54554748535156,
      265.9596252441406,
      774.1194305419922
    ],
    "caption": "In MedCoT framework, the encoder and decoder from Flan-T5 ((<>)Khashabi et al., (<>)2020; (<>)Raffel (<>)et al., (<>)2020) are integrated as TextualEncoder(·) and TextualDecoder(·), respectively. Additionally, DETR ((<>)Carion et al., (<>)2020) is employed as VisualEncoder(·). Our Diagnostic Specialist model was trained 100 epochs with a learning rate of 8e − 5 and a batch size of 8. To demonstrate the effects of MedCoT, four benchmark datasets are used for validation in the medical VQA domain: VQARAD ((<>)Lau et al., (<>)2018), SLAKE-EN ((<>)Liu et al., (<>)2021), Med-VQA-2019 ((<>)Abacha et al., (<>)2019), and PathVQA ((<>)He et al., (<>)2020), with detailed statistics provided in Appendix. All experiments were",
    "file_name": ""
  },
  {
    "page": 5,
    "bbox": [
      115.28874206542969,
      357.23736572265625,
      247.43795776367188,
      379.5782775878906
    ],
    "caption": "The sparse MoE network allows each selected expert to handle data they specialize in, as demonstrated in (<>)Figure 6, which shows experts proficient in addressing head-related issues.",
    "file_name": [
      "figures/fileoutpart10.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_23.png"
  },
  {
    "page": 5,
    "bbox": [
      115.28874206542969,
      357.23736572265625,
      247.43795776367188,
      379.5782775878906
    ],
    "caption": "The sparse MoE network allows each selected expert to handle data they specialize in, as demonstrated in (<>)Figure 6, which shows experts proficient in addressing head-related issues.",
    "file_name": ""
  },
  {
    "page": 6,
    "bbox": [
      72.49067687988281,
      471.46372985839844,
      295.1286315917969,
      555.2001037597656
    ],
    "caption": "Figure 6: The Diagnostic Specialist’s sparse MoE shows varying accuracy levels for different organ-related questions in VQA-RAD. ’ABD’ represents abdominal-related questions, ’Head’ refers to head-related questions, and ’Chest’ refers to chest-related questions. It can be observed that head-related questions saw an improvement of nearly 10 %. We visualized the weights of the experts (right figure). Notably, in the top 2 expert selections, the model chose Expert 0 and Expert 5 to understand the intents of the \"head\" image and text.",
    "file_name": [
      "figures/fileoutpart16.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_25.png"
  },
  {
    "page": 6,
    "bbox": [
      72.49067687988281,
      471.46372985839844,
      295.1286315917969,
      555.2001037597656
    ],
    "caption": "Figure 6: The Diagnostic Specialist’s sparse MoE shows varying accuracy levels for different organ-related questions in VQA-RAD. ’ABD’ represents abdominal-related questions, ’Head’ refers to head-related questions, and ’Chest’ refers to chest-related questions. It can be observed that head-related questions saw an improvement of nearly 10 %. We visualized the weights of the experts (right figure). Notably, in the top 2 expert selections, the model chose Expert 0 and Expert 5 to understand the intents of the \"head\" image and text.",
    "file_name": ""
  },
  {
    "page": 7,
    "bbox": [
      101.04521179199219,
      629.4915008544922,
      291.4716491699219,
      762.2012481689453
    ],
    "caption": "Figure 7: The expert number grid search on two datasets. The blue line represents the results from training with Initial Specialist rationales and grid search of expert numbers in the Diagnostic Specialist. The purple line represents results from using the Follow-up Specialist rationales and grid searching expert numbers. The gray line represents the results of the Diagnostic Specialist using Follow-up Specialist rationales, conducted without the sparse MoE.",
    "file_name": [
      "figures/fileoutpart19.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_27.png"
  },
  {
    "page": 7,
    "bbox": [
      101.04521179199219,
      629.4915008544922,
      291.4716491699219,
      762.2012481689453
    ],
    "caption": "Figure 7: The expert number grid search on two datasets. The blue line represents the results from training with Initial Specialist rationales and grid search of expert numbers in the Diagnostic Specialist. The purple line represents results from using the Follow-up Specialist rationales and grid searching expert numbers. The gray line represents the results of the Diagnostic Specialist using Follow-up Specialist rationales, conducted without the sparse MoE.",
    "file_name": ""
  },
  {
    "page": 7,
    "bbox": [
      302.2618713378906,
      629.4095764160156,
      492.6882781982422,
      762.1194458007812
    ],
    "caption": "Figure 7: The expert number grid search on two datasets. The blue line represents the results from training with Initial Specialist rationales and grid search of expert numbers in the Diagnostic Specialist. The purple line represents results from using the Follow-up Specialist rationales and grid searching expert numbers. The gray line represents the results of the Diagnostic Specialist using Follow-up Specialist rationales, conducted without the sparse MoE.",
    "file_name": [
      "figures/fileoutpart20.png"
    ],
    "output_file": "assets/images/paper/2412.13736_MedCoT Medical Chain of Thought via Hierarchical Expert/fig_29.png"
  },
  {
    "page": 7,
    "bbox": [
      302.2618713378906,
      629.4095764160156,
      492.6882781982422,
      762.1194458007812
    ],
    "caption": "Figure 7: The expert number grid search on two datasets. The blue line represents the results from training with Initial Specialist rationales and grid search of expert numbers in the Diagnostic Specialist. The purple line represents results from using the Follow-up Specialist rationales and grid searching expert numbers. The gray line represents the results of the Diagnostic Specialist using Follow-up Specialist rationales, conducted without the sparse MoE.",
    "file_name": ""
  }
]